# Use Case Definitions
**Project:** Word Master: My Own Novel Dungeon
**Version:** 1.0
**Date:** 2025-11-20

---

## 1. Actors
*   **Student (User)**: A 5th-grade student who wants to learn vocabulary through a game.
*   **System (App)**: The Word Master web application.
*   **AI (LLM)**: The OpenAI API that generates content.

---

## 2. Use Cases

### UC-01: Start Adventure
*   **Actor**: Student
*   **Description**: The student sets up their learning session by entering their name, target words, and preferred genre.
*   **Preconditions**: The application is loaded and the API key is configured.
*   **Main Flow**:
    1.  System displays the "Input Screen".
    2.  Student enters "Hero Name".
    3.  Student enters 3 "Target Words".
    4.  Student selects a "Genre" (Fantasy, SF, Horror).
    5.  Student clicks "Start Adventure".
    6.  System validates inputs.
    7.  System transitions to "Loading Screen" and requests story from AI.
*   **Alternative Flow (Invalid Input)**:
    *   6a. Inputs are missing or empty.
    *   6b. System disables the "Start" button or shows an error message.
*   **Postconditions**: Game state changes to LOADING.

### UC-02: Read Story
*   **Actor**: Student
*   **Description**: The student reads the generated story where target words are highlighted.
*   **Preconditions**: Story has been successfully generated by AI.
*   **Main Flow**:
    1.  System displays the "Story Screen" with the generated title and text.
    2.  System highlights occurrences of the 3 target words.
    3.  Student reads and scrolls down the text.
    4.  System updates the "XP Bar" based on scroll percentage.
    5.  Student reaches the bottom (100% XP).
    6.  System enables the "Next Stage" button.
    7.  Student clicks "Next Stage".
*   **Postconditions**: Game state changes to QUIZ.

### UC-03: Take Quiz (Boss Battle)
*   **Actor**: Student
*   **Description**: The student answers a context-based question to defeat the boss.
*   **Preconditions**: Student has finished reading the story.
*   **Main Flow**:
    1.  System displays the "Quiz Screen" with a Boss image.
    2.  System presents a fill-in-the-blank question derived from the story.
    3.  System presents 3 options (the 3 target words).
    4.  Student selects an option.
    5.  **If Correct**:
        *   System plays "Attack" animation.
        *   System shows "Victory" message.
        *   System transitions to "Action Input Screen".
    6.  **If Incorrect**:
        *   System plays "Damage" animation.
        *   System shows "Try Again" or "Defeat" message.
        *   System transitions to "Result Screen" (Grade B) or allows retry.
*   **Postconditions**: Game state changes to ACTION_INPUT or RESULT.

### UC-04: View Results & Share (End Game)
*   **Actor**: Student
*   **Description**: The student views their final grade and collected words if they choose to end the game or fail.
*   **Preconditions**: Quiz completed or User chooses to stop.
*   **Main Flow**:
    1.  System displays "Result Screen" with Grade.
    2.  System lists the "Collected Words".
    3.  Student clicks "Restart".

### UC-05: Continue Adventure (Next Chapter)
*   **Actor**: Student
*   **Description**: The student inputs their next action to generate the next chapter.
*   **Preconditions**: Previous Chapter Quiz passed.
*   **Main Flow**:
    1.  System displays "Action Input Screen".
    2.  System asks "What will [Hero Name] do next?".
    3.  Student types an action (e.g., "Open the treasure chest", "Go to the dark cave").
    4.  System sends [Previous Story Summary + User Action] to AI.
    5.  System generates Chapter N+1.
    6.  System transitions to "Story Screen" (Chapter N+1).
